!function(e){function t(t){for(var o,c,l=t[0],i=t[1],u=t[2],s=0,f=[];s<l.length;s++)c=l[s],n[c]&&f.push(n[c][0]),n[c]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);for(p&&p(t);f.length;)f.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,l=1;l<r.length;l++){var i=r[l];0!==n[i]&&(o=!1)}o&&(a.splice(t--,1),e=c(c.s=r[0]))}return e}var o={},n={0:0},a=[];function c(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=e,c.c=o,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(r,o,function(t){return e[t]}.bind(null,o));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="";var l=window.webpackJsonp=window.webpackJsonp||[],i=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var p=i;a.push([55,1]),r()}({55:function(e,t,r){"use strict";r.r(t);r(56),r(67),r(68),r(69),r(71),r(49),r(83),r(85),r(86),r(88),r(90),r(92),r(96),r(97);var o=r(54),n=r.n(o);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var c,l=document.getElementById("color-switcher"),i=new n.a.Map({container:"map",accessToken:"pk.eyJ1IjoiZXVnZXlvbmUiLCJhIjoiY2p5c2kzNWd4MGtjeDNkbnUzcHNuZG5nZiJ9.QascU0AxqjJdeRehD88fSA",style:"mapbox://styles/mapbox/light-v10",zoom:0,maxZoom:8,center:[10.4660513,50.6702632],maxBounds:[[-.765531,46.631365],[20.88893,55.352543]]}),u=document.querySelector(".popup"),p=document.querySelector("#map"),s=document.querySelector(".ramp__gradient"),f=document.querySelector(".negative-value"),g=document.querySelector(".positive-value"),b=null,d={"green-red":[-5,"rgb(255, 26, 26)",-3,"rgb(230, 0, 0)",-1.5,"rgb(179, 0, 0)",-1,"rgb(128, 0, 0)",-.1,"rgb(77, 0, 0)",0,"#000000",.1,"rgb(0, 77, 19)",1,"rgb(0, 128, 31)",1.5,"rgb(0, 179, 43)",3,"rgb(0, 230, 56)",5,"rgb(26, 255, 81)"],"purple-yellow":[-5,"rgb(241, 255, 26)",-3,"rgb(216, 230, 0)",-1.5,"rgb(168, 179, 0)",-1,"rgb(120, 128, 0)",-.1,"rgb(72, 77, 0)",0,"#000000",.1,"rgb(43, 0, 77)",1,"rgb(71, 0, 128)",1.5,"rgb(100, 0, 179)",3,"rgb(129, 0, 230)",5,"rgb(154, 26, 255)"],"blue-green":[-5,"rgb(98, 134, 44)",-3,"rgb(125, 173, 57)",-1.5,"rgb(151, 198, 82)",-1,"rgb(174, 211, 121)",-.1,"rgb(197, 223, 159)",0,"#ffffff",.1,"rgb(153, 191, 229)",1,"rgb(113, 165, 219)",1.5,"rgb(72, 140, 208)",3,"rgb(47, 114, 183)",5,"rgb(36, 89, 142)"],"orange-lightblue":[-5,"rgb(0, 143, 179)",-3,"rgb(0, 184, 230)",-1.5,"rgb(26, 209, 255)",-1,"rgb(77, 219, 255)",-.1,"rgb(128, 229, 255)",0,"#ffffff",.1,"rgb(237, 173, 146)",1,"rgb(229, 140, 102)",1.5,"rgb(222, 107, 58)",3,"rgb(197, 81, 33)",5,"rgb(153, 63, 26)"]},y="";Object.keys(d).forEach(function(e){y+='<option value="'.concat(e,'">').concat(e,"</option>")}),l.innerHTML=y,l.addEventListener("change",function(e){var t;i.removeLayer("state-population"),i.addLayer({id:"state-population",source:"population",type:"fill",paint:{"fill-color":["interpolate",["linear"],["get","JVA"]].concat(a(d[e.target.value])),"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.8,.6]}},c),s.style.background=(t=e.target.value,console.log(t),console.log(d[t]),"linear-gradient(to right, ".concat(d[t][1]," 0%, ").concat(d[t][5]," 33%, ").concat(d[t][9]," 49%, ").concat(d[t][11]," 50%, ").concat(d[t][13]," 51%, ").concat(d[t][17]," 67%, ").concat(d[t][21]," 100%)")),f.style.color=d[e.target.value][1],g.style.color=d[e.target.value][21]}),i.on("load",function(){i.resize();for(var e=i.getStyle().layers,t=0;t<e.length;t++)if("symbol"===e[t].type){c=e[t].id;break}i.addSource("population",{type:"geojson",data:"https://lodurrhvedrungr.github.io/censusjson/data.json"}),i.addLayer({id:"state-population",source:"population",type:"fill",paint:{"fill-color":["interpolate",["linear"],["get","JVA"]].concat(a(d["green-red"])),"fill-opacity":["case",["boolean",["feature-state","hover"],!1],.8,.6]}},c),i.on("mousemove","state-population",function(e){var t,r=i.queryRenderedFeatures(e.point);if(r.length>0){var o=!0,n=!1,a=void 0;try{for(var c,l=r[Symbol.iterator]();!(o=(c=l.next()).done);o=!0){var s=c.value;if("state-population"===s.layer.id){t=s;break}}}catch(e){n=!0,a=e}finally{try{o||null==l.return||l.return()}finally{if(n)throw a}}if(!t)return;b&&i.setFeatureState({source:"population",id:b},{hover:!1}),b=t.id,i.setFeatureState({source:"population",id:b},{hover:!0});var f=e.originalEvent.clientX,g=e.originalEvent.clientY,d=g>p.clientHeight/2,y=f>p.clientWidth/2;d&&!y?(u.style.left="".concat(f,"px"),u.style.top="".concat(g-u.offsetHeight,"px")):d&&y?(u.style.left="".concat(f-u.offsetWidth,"px"),u.style.top="".concat(g-u.offsetHeight,"px")):d||y?(u.style.left="".concat(f-u.offsetWidth,"px"),u.style.top="".concat(g,"px")):(u.style.left="".concat(f,"px"),u.style.top="".concat(g,"px")),u.innerHTML=function(e){var t;switch(Math.sign(e.properties.JVA)){case 1:t='class="green">+';break;case-1:t='class="red">';break;case 0:t='class="white">'}return"\n        <h2>".concat(e.properties.GEN,", ").concat(e.properties.BEZ,"</h2>\n        ").concat(e.properties.EWZ?"<p>Einwohner 2017:<br/><strong>".concat(e.properties.EWZ,"</strong></p>"):"Keine Daten vorhanden","\n        ").concat(e.properties.JVA?"<p>jährliche Veränderung seit 2011:<p ".concat(t).concat(e.properties.JVA,"%</p></p>"):"","\n    ")}(t),u.style.display="block"}}),i.on("mouseleave","state-population",function(){b&&(u.style.display="none",i.setFeatureState({source:"population",id:b},{hover:!1})),b=null})})},97:function(e,t,r){}});
//# sourceMappingURL=app.dc8af6fc.js.map